var app=angular.module("J-Chores",["ui.router","ngMaterial","ngResource"]);
!function(){function e(e,r,t){r.theme("default").primaryPalette("green"),e.state("show-chores",{url:"/show-chores",templateUrl:"views/show-chores.html",controller:"ChoresCtrl",controllerAs:"Chores"}).state("edit-chores",{url:"/edit-chores",templateUrl:"views/edit-chores.html",controller:"ChoresCtrl",controllerAs:"Chores"}).state("calendar",{url:"/calendar",templateUrl:"views/calendar.html",controller:"CalendarCtrl",controllerAs:"Calendar"}),t.otherwise("/show-chores")}app.config(e),e.$inject=["$stateProvider","$mdThemingProvider","$urlRouterProvider"]}();
!function(){function t(t,e){var n=this;n.states=["show-chores","edit-chores","calendar"],n.slideDir=null,t.$on("nav",function(t,s){var a=n.states.indexOf(e.current.name),r=n.states.indexOf(s);n.slideDir=a>r?"left":"right"}),t.$on("$stateChangeSuccess",function(){n.state=e.current.name})}app.controller("AppCtrl",t),t.$inject=["$scope","$state"]}();
!function(){function a(a,e,o){var t=this;t.days=e.days,t.monthName=e.monthName,t.todaysDate=e.todaysDate,t.daysInMonth=e.daysInMonth,t.rows=e.calendarRows,t.openDialog=function(a,e){function n(o,n){var l=e.indexOf(a);o.clicked=t.days[l],o.monthName=t.monthName,o.date=a}var l=document.querySelectorAll(".calendar-day")[a-1];o.show({templateUrl:"views/partials/add_calendar_task.html",controller:n,clickOutsideToClose:!0,openFrom:l,closeTo:l}),n.$inject=["$scope","$mdDialog"]}}app.controller("CalendarCtrl",a),a.$inject=["$scope","DateService","$mdDialog"]}();
!function(){function e(e,a,t,o,s,n){var r=this;r.view={addNewChore:!1},r.days=o.days,r.today=o.today,r.todaysDate=o.todaysDate,r.monthName=o.monthName,r.chores=t.getDailyChores(),r.allChores=t.getAllChores(),r.finish=function(e){var a=r.chores.indexOf(e);r.chores.splice(a,1),e.finished=new Date,e.$save()},r.checkToggle=function(e,a){var t=e.days.indexOf(a);t<0?(e.days.push(a),e.finished=new Date(0)):e.days.splice(t,1),e.$save()},r.addNew=function(){var e=t.newChore();e.$save(),r.allChores.push(e),n(function(){var e=document.getElementsByTagName("input");angular.element(e[e.length-1]).focus()})},r.deleteChore=function(e){var a=r.allChores.indexOf(e);r.allChores.splice(a,1),e.$delete()}}app.controller("ChoresCtrl",e),e.$inject=["$scope","$http","ChoresService","DateService","$resource","$timeout"]}();
!function(){function t(t,e,a,n){var o=this;e(function(){o.today=n.today,o.todaysDate=n.todaysDate,o.monthName=n.monthName,o.currentNavItem=a.current.name},0),t.$on("$stateChangeSuccess",function(){o.state=a.current.name})}app.controller("HeaderCtrl",t),t.$inject=["$scope","$timeout","$state","DateService"]}();
!function(){function e(e,r){var a={all:{url:"/api/chores/all",method:"get",isArray:!0}},o={day:r.today,choreId:"@_id"};return e("/api/chores",o,a)}app.factory("ChoresResource",e),e.$inject=["$resource","DateService"]}();
!function(){function n(){return function(n){return n[0].toUpperCase()+n.slice(1)}}app.filter("capitalize",n)}();
!function(){function n(){return function(n){return n.replace(/-/g," ")}}app.filter("undash",n)}();
!function(){function e(e,n,r){var t=r,u=function(){return t.query(function(e){return e})},o=function(){return t.all(function(e){return e})},c=function(){return new t};return{getDailyChores:u,getAllChores:o,newChore:c}}app.factory("ChoresService",e),e.$inject=["$http","DateService","ChoresResource"]}();
!function(){function a(){for(var a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],e=["january","february","march","april","may","june","july","august","september","october","november","december"],t=new Date,n=a[t.getDay()],r=t.getDate(),u=t.getMonth(),o=e[u],s=t.getFullYear(),y=a[new Date(s,u).getDay()],d=a.indexOf(y),h=new Date(s,u+1,0).getDate(),f=[],m=1;m<=h;m++)f.push(m);var D=[],p=[];for(m=0;m<d;m++)p.push(null);for(m=1;m<=h;m++)p.length<7?p.push(m):(D.push(p),p=[m]);return D.push(p),{days:a,months:e,today:n,todaysDate:r,month:u,monthName:o,firstDayOfMonth:y,monthStartsOn:d,numberOfDays:h,daysInMonth:f,calendarRows:D}}app.factory("DateService",a)}();